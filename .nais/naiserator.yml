kind: Application
metadata:
  name: farskapsportal-api
  namespace: bidrag
  labels:
    team: bidrag
spec:
  image:
    liveness:
      path: /actuator/health
      initialDelay: 35
      timeout: 1
      periodSeconds: 5
      failureThreshold: 10
      readiness:
        path: /actuator/health
        initialDelay: 30
        timeout: 1
      prometheus:
        enabled: true
        path: /actuator/prometheus
      resources:
        limits:
          cpu: 1000m
          memory: 1024Mi
        requests:
          cpu: 500m
          memory: 512Mi
  gcp:
    sqlInstances:
      - type: POSTGRES_11
        databases:
          - name: farskapsportal